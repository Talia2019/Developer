# jQuery 이벤트

<br>

## 목차

1. 이벤트 등록 메서드
2. 마우스 이벤트
3. 이벤트 객체와 종류
4. 포커스이벤트
5. 키보드이벤트
6. 그룹이벤트 등록 및 삭제

<br>

---

<br>

## 1. 이벤트 등록 메서드

- 이벤트 등록 메서드

이벤트란 사이트에서 방문자가 취하는 모든 행위를 뜻함

이벤트 핸들러는 이벤트 발생시 실행되는 코드

이벤트 등록 메서드에는 하나의 이벤트만 등록할 수 있는 단독 이벤트 등록 메서드와 두개 이상의 이벤트를 등록할 수 있는 그룹 이벤트 등록 메서드가 있음

<br>

### 이벤트 등록 방식

#### 단독 이벤트 등록 메서드

> \$("이벤트 대상 선택").이벤트 등록 메서드(function(){  
> 자바스크립트 코드;  
> });

#### 그룹 이벤트 등록 메서드

> 1. on() 메서드 등록방식 1  
>    \$("이벤트 대상 선택").on("이벤트 종류1 이벤트 종류2...", function(){  
>    자바스크립트 코드  
>    });
> 2. on() 메서드 등록방식 2  
>    \$("이벤트 대상 선택").on({"이벤트 종류1 이벤트 종류2...": function(){  
>    자바스크립트 코드  
>    }});
> 3. on() 메서드 등록방식 3  
>     \$("이벤트 대상 선택").on({  
>     "이벤트 종류1": function(){자바스크립트 코드},  
>     "이벤트 종류2": function(){자바스크립트 코드}, ...  
>    });

<br>

### 강제로 이벤트 발생시키기

사용자에 의해 이벤트를 발생시키는 것이 아니라, 핸들러에 의해 자동으로 이벤트가 발생하는 것

> \$("이벤트대상").단독이벤트등록메서드();  
> \$("이벤트대상").trigger("이벤트종류");

<br>

### 이벤트 제거 메서드

> \$("이벤트대상").off("제거할이벤트종류");

<br>

### 로딩 이벤트 메서드

HTML 문서의 로딩이 완료되면 이벤트 핸들러 실행

ready() 는 HTML 문서객체의 로딩이 끝나면 이벤트를 발생시킴

load() 는 외부에 연동된 소스(iframe, img, video)의 로딩이 끝나면 이벤트를 발생시킴

> 1. \$(document).ready(function(){ 자바스크립트코드; });
> 2. \$(document).on("ready", function(){ 자바스크립트코드; });
> 3. \$(window).load(function(){ 자바스크립트코드; });
> 4. \$(window).on("load", function(){ 자바스크립트코드; });

<br>

#### 이벤트 등록 메서드의 종류

| 구분          | 종류         | 설명                                                                                                      |
| ------------- | ------------ | --------------------------------------------------------------------------------------------------------- |
| 로딩이벤트    | load()       | 선택한 이미지/프레임요소에 연동된 소스의 로딩이 완료된 후 이벤트 발생                                     |
|               | ready()      | 지정한 HTML 문서객체 로딩 완료 후 이벤트 발생                                                             |
|               | error()      | 이벤트 대상 요소에서 오류 발생시 이벤트 발생                                                              |
| 마우스 이벤트 | click()      | 선택 요소 클릭시 이벤트 발생                                                                              |
|               | dbclick()    | 선택 요소 더블 클릭시 이벤트 발생                                                                         |
|               | mouseout()   | 선택 요소 영역에서 마우스 벗어났을 때 이벤트 발생                                                         |
|               | mouseover()  | 선택 요소 영역에 마우스 올렸을 때 이벤트 발생                                                             |
|               | hover()      | 선택 요소 영역에 마우스 올렸을 때, 벗어났을때 각각 이벤트 발생                                            |
|               | mousedown()  | 선택 요소 영역에 마우스 버튼 눌렀을때 이벤트 발생                                                         |
|               | mouseup()    | 선택 요소 영역에 마우스 버튼 눌렀다 뗐을때 이벤트 발생                                                    |
|               | mouseenter() | 선택 요소 범위에 마우스 포인터 올렸을때 이벤트 발생                                                       |
|               | mouseleave() | 선택 요소 범위에서 마우스 포인터 벗어났을때 이벤트 발생                                                   |
|               | mousemove()  | 선택 요소 범위에 마우스 포인터 움직였을때 이벤트 발생                                                     |
|               | scroll()     | 가로,세로 스크롤바 움직일때 이벤트 발생                                                                   |
| 포커스 이벤트 | focus()      | 선택 요소에 포커스 생성시 이벤트 발생하거나, 선택 요소에 강제로 포커스 생성                               |
|               | focusin()    | 선택 요소에 포커스 생성시 이벤트 발생                                                                     |
|               | focusout()   | 포커스가 선택한 요소에서 다른 요소로 이동시 이벤트 발생                                                   |
|               | blur()       | 포커스가 선택한 요소에서 다른 요소로 이동시 이벤트 발생하거나 선택 요소의 포커스를 강제로 사라지도록 함   |
|               | change()     | 이벤트 대상인 입력 요소의 값이 변경되고, 포커스 이동시 이벤트 발생. 강제로 change이벤트 발생시킬때도 사용 |
| 키보드 이벤트 | keypress()   | 선택 요소에서 키보드 눌렀을때 이벤트 발생. 문자 키를 제외한 키의 코드값 반환                              |
|               | keydown()    | 선택 요소에서 키보드 눌렀을때 이벤트 발생. 키보드의 모든 키의 코드값 반환                                 |
|               | keyup()      | 선택 요소에서 키보드에서 손을 떼었을때 이벤트 발생                                                        |

<br>

---

<br>

## 2. 마우스 이벤트

사용자가 사이트에서 마우스를 이용해 취하는 모든 행위

<br>

#### click()/dbclick() 이벤트 메서드

```js
1. 클릭 이벤트 등록
$("이벤트 대상선택").click(function(){ 자바스크립트 코드; });
$("이벤트 대상선택").on("click", function(){ 자바스크립트 코드; });

2. 클릭 이벤트 강제 발생
$("이벤트 대상선택").click();

dbclick은 click을 dbclick으로 바꾼것
```

<br>

#### \<a>, \<form> 태그에 클릭 이벤트 적용 시 기본 이벤트 차단

```js
1. return false 를 이용한 차단 방식
$("a 또는 form").이벤트메서드(function(){
  자바스크립트코드;
  return false;
});

2. preventDefault() 메서드를 이용한 차단방식
$("a 또는 form").이벤트메서드(function(e){
  e.preventDefault();
  자바스크립트코드;
});
```

<br>

#### mouseover, mouseout, mouseenter, mouseleave, mousemove 이벤트 메서드

> 클릭이벤트처럼 사용하면됨

<br>

#### hover 이벤트 메서드

```js
$("이벤트대상선택").hover(
  function() {마우스오버시 실행될 코드},
  function() {마우스아웃시 실행될 코드},
);
```

<br>

---

<br>

## 3. 이벤트 객체와 종류

사용자가 이벤트를 발생시킬 때마다 이벤트 핸들러의 매개변수에는 이벤트 객체가 생성됨.

이벤트 객체에는 이벤트 타입에 맞는 다양한 정보를 제공하는 속성과 메서드가 포함됨.

```js
$("이벤트대상선택").mousemove(function (매개변수) {
  매개변수(이벤트객체).속성;
});
```

<br>

#### 이벤트 객체의 속성과 메서드 종류

| 구분         | 종류              | 설명                                                                         |
| ------------ | ----------------- | ---------------------------------------------------------------------------- |
| 마우스이벤트 | clientX           | 마우스포인터의 X좌푯값 반환(스크롤 이동거리 무시)                            |
|              | clientY           | 마우스포인터의 Y좌푯값 반환(스크롤 이동거리 무시)                            |
|              | pageX             | 스크롤 X축의 이동거리를 계산해 마우스포인터의 X좌푯값 반환                   |
|              | pageY             | 스크롤 Y축의 이동거리를 계산해 마우스포인터의 Y좌푯값 반환                   |
|              | screenX           | 화면모니터를 기준으로 마우스포인터의 X좌푯값 반환                            |
|              | screenY           | 화면모니터를 기준으로 마우스포인터의 Y좌푯값 반환                            |
|              | layerX            | position을 적용한 요소를 기준으로 마우스포인터의 X좌푯값 반환                |
|              | layerY            | position을 적용한 요소를 기준으로 마우스포인터의 Y좌푯값 반환                |
|              | button            | 마우스 버튼의 종류에 따라 값 반환(왼:0, 휠:1, 오:2)                          |
| 키보드이벤트 | keyCode           | 키보드의 아스키 코드값을 반환                                                |
|              | altKey            | 이벤트 발생시 Alt키가 눌렸으면 true, 아니면 false반환                        |
|              | ctrlKey           | 이벤트 발생시 Ctrl키가 눌렸으면 true, 아니면 false반환                       |
|              | shiftKey          | 이벤트 발생시 Shift키가 눌렸으면 true, 아니면 false반환                      |
| 전체이벤트   | target            | 이벤트가 전파된 마지막 요소를 가리킴                                         |
|              | cancelBubble      | 이벤트의 전파를 차단하는 속성으로 기본깂은 false며, true 로 설정시 전파 차단 |
|              | stopPropagation() | 이벤트의 전파를 차단                                                         |
|              | preventDefault()  | 기본이벤트를 차단                                                            |

<br>

#### scroll() 이벤트 메서드

```js
1. scroll 이벤트 등록
$("이벤트 대상 선택").scroll(function(){ 자바스크립트코드; });
$("이벤트 대상 선택").on("scroll", function(){ 자바스크립트코드; });

2. scroll 이벤트 강제 발생
$("이벤트 대상 선택").scroll();
```

<br>

---

<br>

## 4. 포커스이벤트

포커스는 마우스로 \<a> 나 \<input> 태그를 클릭하거나 Tab키를 누르면 생성됨

<br>

#### focus()/blur()/focusin()/focusout() 이벤트 메서드

```js
1. focus 이벤트 등록
$("이벤트 대상 선택").focus(function(){ 자바스크립트코드; });
$("이벤트 대상 선택").on("focus", function(){ 자바스크립트코드; });

2. focus 이벤트 강제 발생
$("이벤트 대상 선택").focus();
;
3. blur 이벤트 등록
$("이벤트 대상 선택").blur(function(){ 자바스크립트코드; });
$("이벤트 대상 선택").on("blur", function(){ 자바스크립트코드; });

4. blur 이벤트 강제 발생
$("이벤트 대상 선택").blur();

focusin과 focusout도 이와 같은 방법
```

<br>

---

<br>

## 5. 키보드로 마우스 이벤트 대응

mouseover &rarr; focus  
mouseout &rarr; blur

```js
$(.btn).on("mouseover focus", function(){});

//위와 같은 방식으로 키보드 접근성을 배려한 이벤트 적용을 추천
```

<br>

#### change() 이벤트 메서드

```js
선택한 폼 요소의 값을 새 값으로 바꾸고 포커스가 다른 요소로 이동하면 이벤트를 발생시킴

1. focus 이벤트 등록
$("이벤트 대상 선택").change(function(){ 자바스크립트코드; });
$("이벤트 대상 선택").on("change", function(){ 자바스크립트코드; });

2. focus 이벤트 강제 발생
$("이벤트 대상 선택").change();

```

<br>

---

<br>

## 6. 키보드이벤트

사용자가 키보드로 입력하면 발생

#### keydown()/keyup()/keypress() 이벤트 메서드

```js

1. 이벤트 등록
$("이벤트 대상 선택").keydown(function(){ 자바스크립트코드; });
$("이벤트 대상 선택").on("keydown", function(){ 자바스크립트코드; });

2. 이벤트 강제 발생
$("이벤트 대상 선택").keydown();

keyup, keypress도 같은 방식

```

<br>

---

<br>

## 7. 이벤트가 발생한 요소 추적

이벤트가 발생한 요소를 선택해 오는 선택자 $(this)

이벤트가 발생한 요소의 인덱스 값을 반환하는 index()

<br>

### 7-1. $(this) 선택자

이벤트가 발생한 요소를 선택하여 이벤트가 발생한 요소를 추적 가능

### 7-2. index() 인덱스 반환 메서드

이벤트를 등록한 요소 중 이벤트가 발생한 요소의 인덱스값을 반환

```js
$("이벤트대상선택").on("이벤트종류", function () {
  $("이벤트대상선택").index(this);
});
```

<br>

---

<br>

## 8. 그룹이벤트 등록 및 삭제

그룹이벤트 등록 메서드를 사용해 한번에 2개 이상의 이벤트 등록 가능

#### 그룹이벤트 등록메서드의 종류

|종류|설명|
|on()|이벤트 대상 요소에 2개이상의 이벤트 등록. 동적으로 생성되거나 복제된 요소에도 이벤트 적용됨|
|bind()|이벤트 대상 요소에 2개이상의 이벤트 등록|
|delegate()|선택한 요소의 하위요소에 이벤트 등록. 동적으로 생성되거나 복제된 요소에도 이벤트 적용|
|one()|이벤트 대상 요소에 1개이상의 이벤트 등록. 지정 이벤트가 1회 발생후 자동해제됨|

<br>

```js
//on() 메서드의 라이브 이벤트 등록 방식(동적/복제 요소에도 적용)
$([document | "이벤트대상의 상위요소선택"]).on("이벤트 종류", "이벤트 대상선택", function(){
  자바스크립트 코드;
})

//delegate() 메서드(동적/복제 요소에도 적용)
$([document | "이벤트대상의 상위요소선택"]).delegate("이벤트 종류", "이벤트 대상선택", function(){
  자바스크립트 코드;
})

//one() 기본 이벤트 등록방식
$("이벤트대상선택").one("이벤트 종류", function(){
  자바스크립트 코드;
})
//one() 라이브 이벤트 등록 방식
$([document | "이벤트대상의 상위요소선택"]).one("이벤트 종류", "이벤트 대상선택", function(){
  자바스크립트 코드;
})

```

<br>

#### 이벤트 제거 메서드의 종류

| 종류         | 설명                                     |
| ------------ | ---------------------------------------- |
| off()        | on() 메서드로 등록한 이벤트를 제거       |
| unbind()     | bind() 메서드로 등록한 이벤트를 제거     |
| undelegate() | delegate() 메서드로 등록한 이벤트를 제거 |

<br>

```js
// on()이벤트 해제 (기본 이벤트 제거방식)
$("이벤트대상 요소선택").off("이벤트 종류");
// on()이벤트 해제 (라이브 이벤트 제거방식)
$([document | "이벤트대상 상위요소선택"]]).off("이벤트종류", "이벤트대상 요소선택");

// bind()이벤트 해제
$("이벤트대상 요소선택").unbind("이벤트 종류");

// delegate() 이벤트 해제(기본 이벤트 제거)
$("이벤트대상 요소선택").undelegate("이벤트 종류");
// delegate() 이벤트 해제(라이브 이벤트 제거)
$([document | "이벤트대상 상위요소선택"]).undelegate("이벤트 대상선택", "이벤트 종류");
```

<br>
