# Event

<br>

## 목차

1. Event
2. Event 종류
3. Event 핸들러 등록
4. 버블링과 캡쳐링

<br>

## 1. Event

웹페이지에서 여러 종류의 상호작용이 있을 때마다 이벤트가 발생

사용자가 마우스를 클릭 하였을 때, 키보드를 눌렀을 때 등과 같이 다양한 종류의 이벤트가 존재

JS를 사용하여 DOM에서 발생하는 이벤트를 감지하여 이벤트에 대응하는 여러 작업 수행

이벤트는 일반적으로 함수와 연결이 되고, 이 함수는 이벤트가 발생되기 전에는 실행되지 않다가 이벤트가 발생할경우 실행됨
<br>
-> 이벤트 헨들러(Handler) 또는 이벤트 리스너(Listener) 라 함

<br>

## 2. Event 종류

### 2-1. 마우스 이벤트

| 이벤트      | 설명                                              |
| ----------- | ------------------------------------------------- |
| onclick     | 마우스로 Element 클릭시                           |
| ondbclick   | 마우스로 Element 더블 클릭시                      |
| onmouseup   | 마우스로 Element 에서 마우스 버튼 올렸을 때       |
| onmousedown | 마우스로 Element 에서 마우스 버튼 눌렀을 때       |
| onmouseover | 마우스를 움직여서 Element 밖에서 안으로 들어올 때 |
| onmouseout  | 마우스를 움직여서 Element 안에서 밖으로 나갈 때   |
| onmousemove | 마우스를 움직일 때                                |

<br>

### 2-2. 키보드 이벤트

키보드 커서가 나타내는 요소가 없으면 document에서 이벤트 발생

| 이벤트     | 설명               |
| ---------- | ------------------ |
| onkeypress | 키를 눌렀다 뗐을때 |
| onkeydown  | 키를 누르는 순간   |
| onkeyup    | 키를 뗄 때         |

<br>

### 2-3. Frame(UI) 이벤트

| 이벤트   | 설명                                        |
| -------- | ------------------------------------------- |
| onload   | document, image, frame등 모두 로딩되었을 때 |
| onaboard | 내용 로딩중 취소등으로 중단되었을 때        |
| onerror  | 내용 로딩중 오류 발생했을때                 |
| onresize | document, element 크기 변경 시              |
| onscroll | document, element 스크롤 시                 |
| onselect | 텍스트 선택 시                              |
| unload   | 사용자가 브라우저 떠날 때                   |

<br>

### 2-4. Form 이벤트

form이 전송될 때 submit, 초기화 될 때 reset 이벤트 발생 (이벤트 헨들러에서 취소 가능)

| 이벤트           | 설명                                          |
| ---------------- | --------------------------------------------- |
| onsubmit         | form 전송 시                                  |
| onreset          | reset 시                                      |
| oninput          | input/textarea 값 변경 시                     |
| onchange         | selectbox, checkbox, radiobutton 상태 변경 시 |
| onfocus(focusin) | input같은 요소에 입력 포커스 들어올 시        |
| onblur(focusout) | 입력 포커스가 다른 곳으로 이동시              |
| onselect         | 입력값중 일부가 마우스등으로 선택될 때        |

<br>

## 3. Event 핸들러 등록

이벤트를 처리할 작업을 등록하는 것을 '이벤트 핸들러(혹은 리스너)를 등록한다' 라고 함

<br>

### 3-1. 인라인 이벤트 핸들러

HTML요소의 내부에서 직접 이벤트 핸들러를 등록

최근 관심받고 있는 CBD(Component Based Development)방식의 Angular/React/Vue.js와 같은 framework/library 에서는 인라인 방식으로 이벤트를 처리. (CBD에서는 html, css, js를 view의 구성요소로만 보기 때문)

<br>

### 3-2. 이벤트 핸들러 프로퍼티 방식

JS에서 이벤트 핸들러를 등록함으로써 HTML코드와 JS코드를 분리

이벤트 대상이 되는 특정 DOM을 선택하고 이벤트 핸들러를 등록

인라인 이벤트 핸들러 방식처럼 HTML과 JS가 혼용되어 있는 문제를 해결할 수 있는 방식

단, 이벤트 핸들러 프로퍼티에 하나의 이벤트 핸들러만을 바인딩 할 수 있다는 단점이 있음

<br>

### 3-3. addEventListener 메소드 방식

2000년에 발표된 DOM 레벨2 이벤트 명세의 addEventListener(arg1, arg2[,arg3])를 이용하여 좀 더 세밀한 이벤트 제어가 가능

전달 인자의 첫번째에는 이벤트 이름, 두번째에는 이벤트 핸들러, 세번째에는 캡쳐링 여부를 사용

첫번째 인자의 이벤트 이름에는 'on'을 제거한 이벤트 이름을 사용

[주의!] 단, 익스플로러8 이하 버전에서는 사용 불가 >> attachEvent() 사용

addEventListener 메소드를 이용하여 대상 DOM요소에 이벤트를 바인딩하고 해당 이벤트가 발생했을때 실행될 콜백함수(이벤트핸들러)를 지정한다

장점

1. 하나의 이벤트에 대해 하나 이상의 이벤트 핸들러를 추가할 수 있음
2. 캡처링과 버블링을 지원
3. HTML요소뿐 아니라 모든 DOM(HTML, XML, SVG)에 대해 동작

<br>

## 4. 버블링과 캡쳐링

- 버블링

이벤트 발생요소부터 요소를 포함하는 부모요소까지 올라가며 이벤트를 검사하는 것

이벤트 버블링에서 버블 속성의 이벤트 핸들러가 등록되어 있으면 수행

- 캡쳐링

이벤트가 발생한 요소를 포함하는 부모 HTML로부터 이벤트 근원지인 자식요소까지 검사하는것

이벤트 캡쳐링에서 캡쳐속성의 이벤트 핸들러가 등록되어있으면 수행

<br>

함수의 세번째 인자값이 true면 캡쳐링, false면 버블링

<br>
