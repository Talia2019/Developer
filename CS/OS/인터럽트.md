# 📚 인터럽트

<br>

<br>

## 인터럽트

주변장치들이 CPU의 서비스가 필요한 경우에 CPU에게 전달하는 신호

인터럽트가 발생하면 CPU는 하던일을 잠시 멈추고 인터럽트에 의한 요청 서비스를 수행

운영체제는 인터럽트 처리 직전에 수행 중이던 작업의 상태를 저장해두고, 인터럽트 처리 완료후 수행중인 작업으로 돌아감

| 인터럽트            | 설명                            |
| ------------------- | ------------------------------- |
| 외부/내부 인터럽트  | CPU와 하드웨어 신호에 의해 발생 |
| 소프트웨어 인터럽트 | 명령어의 수행에 의해 발생       |

<br>

- 외부 인터럽트

  입출력장치, 타이밍장치, 전원 등 외부적인 요인으로 발생

  `전원이상, 기계착오, 외부신호, 입출력`

- 내부 인터럽트

  Trap 이라 부르며 잘못된 명령이나 데이터를 사용할 때 발생

  `0으로 나누기, 오버플로우`

- 소프트웨어 인터럽트

  프로그램 처리 중 명령의 요청에 의해 발생

  `사용자가 프로그램을 실행시킬 때`

<br>

## 인터럽트 처리루틴

인터럽트 종류마다 해야할 작업을 정의한 커널내에 존재하는 프로그램 코드

커널내에는 CPU 스케줄링, 메모리 관리루틴, 인터럽트 처리루틴 등이 존재

##### 프로세서와 입출력 장치 사이의 통신 방법

| 방법          | 설명                                                                                          | 장점                                                                                           | 단점                                                                  |
| ------------- | --------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------- | --------------------------------------------------------------------- |
| Polling       | 특정 주기마다 스레드를 돌며 시그널이 들어왔는지 확인(SW)                                      | 구현이 쉬움<br>우선순위 변경이 용이                                                            | 리소스를 많이 먹음<br>정확한 타이밍에 시그널이 들어왔는지 확인 불가능 |
| 인터럽트 방식 | 외부의 인터럽트 핀에 신호가 들어오면 즉시 인터럽트 소스를 실행하고 다시 원래코드로 돌아옴(HW) | 인터럽트 발생시에만 처리하기에 시스템 부하가 적음<br>정확한 타이밍을 알 수 있음(반응시간 빠름) | 구현이 복잡함                                                         |

프로그램 실행 -> 인터럽트 요청 -> 프로그램 중단 -> 인터럽트 서비스 루틴 처리 -> 프로그램 재시작
