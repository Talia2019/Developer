# 📚 Secure Coding

<br>

<br>

## 1. 시큐어 코딩

> 안전한 소프트웨어를 개발하기 위해, 소스코드 등에 존재할 수 있는 잠재적인 보안약점을 제거하는 것
>
> 소프트웨어(SW)를 개발함에 있어 개발자의 실수, 논리적 오류 등으로 인해 SW에 내포될 수 있는 보안취약점(vulnerability)을 배제하기 위한 코딩 기법

<br>

#### 보안 약점을 노려 발생하는 사고사례들

- SQL 인젝션 취약점으로 개인유출 사고 발생
- URL 파라미터 조작 개인정보 노출
- 무작위 대입공격 기프트카드 정보 유출

<br>

#### SQL 인젝션 예시

- 안전하지 않은 코드

```
String query "SELECT * FROM users WHERE userid = '" + userid + "'" + "AND password = '" + password + "'";

Statement stmt = connection.createStatement();
ResultSet rs = stmt.executeQuery(query);
```

<br>

- 안전한 코드

```
String query "SELECT * FROM users WHERE userid = ? AND password = ?";

PrepareStatement stmt = connection.prepareStatement(query);
stmt.setString(1, userid);
stmt.setString(2, password);
ResultSet rs = stmt.executeQuery();
```

적절한 검증 작업이 수행되어야 안전

입력받는 값의 변수를 `$` 대신 `#`을 사용하면서 바인딩 처리로 시큐어 코딩이 가능

<br>

#### 가이드 문서

> 50개의 SW 보안약점항목으로 구성되어 있음

- `입력데이터 검증 및 표현`

  프로그램 입력값에 대한 검증 누락 또는 부적절한 검증, 데이터의 잘못된 형식지정으로 인해 발생할 수 있는 보안약점

  SQL 삽입, 자원 삽입, 크로스사이트 스크립트 등 17개

- `보안기능`

  보안기능(인증, 접근제어, 기밀성, 암호화, 권한관리 등)을 적절하지 않게 구현시 발생할 수 있는 보안약점

  부적절한 인가, 중요정보 평문 저장(또는 전송) 등 16개

- `시간 및 상태`

  동시 또는 거의 동시 수행을 지원하는 병렬 시스템, 하나 이상의 프로세스가 동작하는 환경에서 시간 및 상태를 부적절하게 관리하여 발생할 수 있는 보안약점

  경쟁조건, 제어문을 사용하지 않는 재귀함수 등 2개

- `에러 처리`

  에러를 처리하지 않거나, 불충분하게 처리하여 에러정보에 중요정보(시스템 등)가 포함될 때 발생할 수 있는 보안약점

  취약한 패스워드 요구조건, 오류메시지를 통한 정보노출 등 3개

- `코드오류`

  타입변환 오류, 자원(메모리 등)의 부적절한 반환 등과 같이 개발자가 범할 수 있는 코딩오류로 인해 유발되는 보안약점

  널 포인터 역참조, 부적절한 자원 해제 등 5개

- `캡슐화`

  중요한 데이터 또는 기능성을 불충분하게 캡슐화하였을 때, 인가되지 않는 사용자에게 데이터 누출이 가능해지는 보안약점

  제거되지 않고 남은 디버그 코드, 시스템 데이터 정보노출 등 5개

- `API 오용`

  의도된 사용에 반하는 방법으로 API를 사용하거나, 보안에 취약한 API를 사용하여 발생할 수 있는 보안약점

  DNS Lookup에 의존한 보안결정, 널 매개변수 미조사 등 2개
