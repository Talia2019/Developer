# 📚 Redis

<br>

<br>

## Redis

> 고성능 키-값 저장소로서 문자열, 리스트, 해시, 셋, 정렬된 셋 형식의 데이터를 지원하는 NoSQL

Redis는 Memcached와 비슷한 캐시 시스템으로서 동일한 기능을 제공하면서 영속성, 다양한 데이터 구조와 같은 부가적인 기능을 지원하고 있음

레디스는 모든 데이터를 메모리에 저장하고 조회. 즉, 인메모리 데이터베이스

모든 데이터를 메모리에 저장하는 빠른 DB임과 동시에 다양한 자료구조를 지님

보통 데이터베이스는 하드 디스크나 SSD에 저장한다. 하지만 Redis는 메모리(RAM)에 저장해서 디스크 스캐닝이 필요없어 매우 빠른 장점이 존재

캐싱도 가능해 실시간 채팅에 적합하며 세션 공유를 위해 세션 클러스터링에도 활용됨

<br>

## 주요 특징

- 영속성을 지원하는 인메모리 데이터 저장소
- 읽기 성능 증대를 위한 서버 측 복제를 지원
- 쓰기 성능 증대를 위한 클라이언트 측 샤딩(Sharding) 지원
- 다양한 서비스에서 사용되며 검증된 기술
- 문자열, 리스트, 해시, 셋, 정렬된 셋과 같은 다양한 데이터형을 지원. 메모리 저장소임에도 불구하고 많은 데이터형을 지원하므로 다양한 기능을 구현

<br>

## Redis 영속성

RAM은 휘발성이므로 껐다 키면 데이터가 날아갈 수 있으므로 이를 막기 위한 백업 과정이 존재

지속성을 보장하기 위해 데이터를 DISK에 저장할 수 있음. 서버가 내려가더라도 DISK에 저장된 데이터를 읽어 메모리에 로딩함

데이터를 DISK에 저장하는 방식은 크게 두가지

- RDB(Snapshotting) 방식 : 순간적으로 메모리에 있는 내용을 DISK에 전체를 옮겨 담는 방식. 특정 지점을 설정하고 디스크에 백업
- AOF(Append Only File) 방식 : Redis의 모든 write/update 연산 자체를 모두 log 파일에 기록하는 형태. 명령(쿼리)들을 저장해두고, 서버가 셧다운되면 재실행해서 다시 만들어 놓는 것

데이터 구조는 key/value 값으로 이루어져 있음 (따라서 Redis는 비정형 데이터를 저장하는 비관계형 데이터베이스 관리 시스템)

<br>

## value 5가지

1. String (text, binary data) - 512MB까지 저장이 가능함
2. set (String 집합)
3. sorted set (set을 정렬해둔 상태)
4. Hash
5. List (양방향 연결리스트도 가능)
